databaseChangeLog:
  - changeSet:
      id: 5-add-review-constraints
      author: chefmoha
      changes:
        - addForeignKeyConstraint:
            baseTableName: review
            baseColumnNames: product_id
            referencedTableName: product
            referencedColumnNames: id
            constraintName: fk_review_product
            onDelete: CASCADE
            onUpdate: CASCADE
        - addForeignKeyConstraint:
            baseTableName: review
            baseColumnNames: user_id
            referencedTableName: app_user
            referencedColumnNames: id
            constraintName: fk_review_user
            onDelete: CASCADE
            onUpdate: CASCADE
        - addUniqueConstraint:
            tableName: review
            columnNames: product_id, user_id
            constraintName: uk_review_product_user