databaseChangeLog:
  - changeSet:
      id: 4-add-cart-constraints
      author: chefmoha
      changes:
        - addForeignKeyConstraint:
            baseTableName: cart
            baseColumnNames: user_id
            referencedTableName: app_user
            referencedColumnNames: id
            constraintName: fk_cart_user
            onDelete: CASCADE
            onUpdate: CASCADE
        - addForeignKeyConstraint:
            baseTableName: cart
            baseColumnNames: product_id
            referencedTableName: product
            referencedColumnNames: id
            constraintName: fk_cart_product
            onDelete: CASCADE
            onUpdate: CASCADE
        - addUniqueConstraint:
            tableName: cart
            columnNames: user_id, product_id
            constraintName: uk_cart_user_product